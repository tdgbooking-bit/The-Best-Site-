*{
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SHOP ALL â€” SUBLIMINAL WORLD</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="../favicon.ico">
  <meta name="description" content="Shop all products at Subliminal World. Premium tees, hoodies, and more.">
  <link rel="stylesheet" href="/The-Best-Site-/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=UnifrakturCook:wght@700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>
<video autoplay muted loop playsinline class="video-bg">
  <source src="../iStock-2253622537.mp4" type="video/mp4">
</video>
<div class="video-bg">
  <video class="bg-video" autoplay muted loop playsinline>
    <source src="../assets/iStock-2253622537.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</div>
<header class="shop-header">
  <nav class="navbar">
    <div class="logo">
      <a href="/The-Best-Site-/index.html">SUBLIMINAL</a>
    </div>
    <ul>
      <li><a href="/The-Best-Site-/index.html">Home</a></li>
      <li><a href="/The-Best-Site-/shop/shop-all.html">Shop</a></li>
      <li><a href="/The-Best-Site-/about.html">About</a></li>
      <li><a href="/The-Best-Site-/contact.html">Contact</a></li>
    </ul>
  </nav>
  <h1 class="chrome-hearts">SHOP ALL</h1>
</header>
<main>

  <div class="products">
    <!-- Products moved to men.html and women.html -->
  </div>

<script>
// User greeting and logout logic
function showUserGreeting() {
  const user = JSON.parse(localStorage.getItem('currentUser'));
  const greeting = document.getElementById('user-greeting');
  const logoutBtn = document.getElementById('logout-btn');
  if (user && user.email) {
    greeting.innerText = `Hi, ${user.email.split('@')[0]}`;
    logoutBtn.style.display = 'inline-block';
  } else {
    greeting.innerText = '';
    logoutBtn.style.display = 'none';
  }
}
function logoutUser() {
  localStorage.removeItem('currentUser');
  showUserGreeting();
  window.location.reload();
}
showUserGreeting();
// Product Quick View Logic
let quickViewProduct = {};
function openQuickView(img, name, price, desc) {
  document.getElementById('qv-img').src = img;
  document.getElementById('qv-name').innerText = name;
  document.getElementById('qv-price').innerText = price;
  document.getElementById('qv-desc').innerText = desc;
  quickViewProduct = {name, price: parseFloat(price.replace(/[^\d.]/g, ''))};
  document.getElementById('quickview-modal').style.display = 'flex';
}
function closeQuickView() {
  document.getElementById('quickview-modal').style.display = 'none';
}
function addToCartFromQuickView() {
  addToCart(quickViewProduct.name, quickViewProduct.price);
  closeQuickView();
}

/* ========== FADE IN ON SCROLL ========== */
const products = document.querySelectorAll('.product');

const observer = new IntersectionObserver(entries=>{
entries.forEach(entry=>{
if(entry.isIntersecting){
entry.target.classList.add('show');
}
});
},{threshold:0.2});

products.forEach(product=>{
observer.observe(product);
});

/* ========== CART SYSTEM ========== */
let cart = JSON.parse(localStorage.getItem('cart')) || [];

function updateCartCount(){
document.getElementById('cart-count').innerText = cart.length;
}

function addToCart(name, price){
cart.push({name,price});
localStorage.setItem('cart',JSON.stringify(cart));
updateCartCount();
alert(name + " added to cart");
}


function openCart(){
  document.getElementById('cart-modal').style.display = 'flex';
  renderCart();
}

function closeCartModal(){
  document.getElementById('cart-modal').style.display = 'none';
}

function renderCart(){
  const itemsDiv = document.getElementById('cart-items');
  const totalDiv = document.getElementById('cart-total');
  if(cart.length === 0){
    itemsDiv.innerHTML = '<div style="margin-bottom:10px;">Cart is empty.</div>';
    totalDiv.innerHTML = '';
    document.getElementById('checkout-btn').style.display = 'none';
    return;
  }
  let html = '';
  let total = 0;
  cart.forEach((item, idx) => {
    html += `<div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:8px;">
      <span>${item.name} - $${item.price}</span>
      <button onclick="removeFromCart(${idx})" style="background:none; border:none; color:#fff; font-size:16px; cursor:pointer;">&times;</button>
    </div>`;
    total += item.price;
  });
  itemsDiv.innerHTML = html;
  totalDiv.innerHTML = `<b>Total: $${total}</b>`;
  document.getElementById('checkout-btn').style.display = 'block';
}

function removeFromCart(idx){
  cart.splice(idx,1);
  localStorage.setItem('cart',JSON.stringify(cart));
  renderCart();
  updateCartCount();
}

function openPhoneModal(){
  document.getElementById('cart-modal').style.display = 'none';
  document.getElementById('phone-modal').style.display = 'flex';
  document.getElementById('phone-input').value = '';
}

function closePhoneModal(){
  document.getElementById('phone-modal').style.display = 'none';
}

function processCheckout(){
  const phone = document.getElementById('phone-input').value.trim();
  if(!phone.match(/^\d{10,15}$/)){
    alert('Please enter a valid phone number.');
    return;
  }
  // Save order to user history
  const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
  if(currentUser && currentUser.email && cart.length > 0){
    let users = JSON.parse(localStorage.getItem('users') || '[]');
    const idx = users.findIndex(u => u.email === currentUser.email);
    if(idx !== -1){
      if(!users[idx].orders) users[idx].orders = [];
      const order = {
        date: new Date().toLocaleString(),
        items: cart.map(item => ({name: item.name, price: item.price})),
        phone: phone
      };
      users[idx].orders.push(order);
      localStorage.setItem('users', JSON.stringify(users));
      localStorage.setItem('currentUser', JSON.stringify(users[idx]));
    }
  }
  cart = [];
  localStorage.setItem('cart',JSON.stringify(cart));
  updateCartCount();
  closePhoneModal();
  setTimeout(()=>{
    alert('Thank you! Your order is being processed.');
  }, 200);
}


updateCartCount();

</script>

</body>
</html>
